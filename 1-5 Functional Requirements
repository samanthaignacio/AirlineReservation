/*Add a booking for passenger*/
DROP PROCEDURE IF EXISTS addBooking;
DELIMITER
CREATE PROCEDURE addBooking(
IN accountID_in  int(11),
IN flightID_in int(11),
IN paymentID_in int(11))
BEGIN
	insert into Booking(accountID, flightID, paymentID) values(accountID_in, flightID_in, paymentID_in);
END
DELIMETER;


/*Delete a booking for passenger*/
DROP PROCEDURE IF EXISTS deleteBooking;
DELIMITER 
CREATE PROCEDURE deleteBooking(
IN ticketNum_in INT(11))
BEGIN
	DELETE FROM Booking
    WHERE ticketNum = ticketNum_in;
END
DELIMITER;

/*Retrieve existing reservation info*/
DROP PROCEDURE IF EXISTS getBooking;
DELIMITER //
CREATE PROCEDURE getBooking(
IN accountID_in INT(11))
BEGIN
	SELECT flightID, ticketNum, paymentID
	  FROM Booking
	  WHERE accountID = accountID_in;
END//
DELIMETER;


/*See list of flights by airport*/
DROP PROCEDURE IF EXISTS getFlightByAirport;
DELIMITER //
CREATE PROCEDURE getFlightByAirport(
IN airportCode_in VARCHAR(45))
BEGIN 
	SELECT flightID, airportCode
    FROM Airports natural join FlightSchedules
    WHERE airportCode = airportCode_in;
END//
DELIMITER;


/*See list of flights by price*/
DROP PROCEDURE IF EXISTS getFlightByPrice;
DELIMITER//
CREATE PROCEDURE getFlightByPrice(
IN flightPrice_in INT) 
BEGIN  
	SELECT flightID, flightPrice
		FROM FlightCosts
    WHERE flightPrice = flightPrice_in;
END
DELIMITER;
